(function(b,E){function r(a){return"string"===typeof a}function h(a){var c=B.call(arguments,1);return function(){return a.apply(this,c.concat(B.call(arguments)))}}function k(a,c,e,g,m){var t;g!==l?(c=e.match(a?C:/^([^#?]*)\??([^#]*)(#?.*)/),e=c[3]||"",2===m&&r(g)?g=g.replace(a?D:G,""):(t=f(c[2]),g=r(g)?f[a?u:z](g):g,g=2===m?g:1===m?b.extend({},g,t):b.extend({},t,g),g=s(g),a&&(g=g.replace(H,v))),a=c[1]+(a?F:g||!c[1]?"?":"")+g+e):a=c(e!==l?e:location.href);return a}function w(a,c,e){c===l||"boolean"===
typeof c?(e=c,c=m[a?u:z]()):c=r(c)?c.replace(a?D:G,""):c;return f(c,e)}function q(a,c,e,g){r(e)||"object"===typeof e||(g=e,e=c,c=l);return this.each(function(){var l=b(this),t=c||A()[(this.nodeName||"").toLowerCase()]||"",n=t&&l.attr(t)||"";l.attr(t,m[a](n,e,g))})}"$:nomunge";var l,B=Array.prototype.slice,v=decodeURIComponent,m=b.param,s,d,f,x,y=b.bbq=b.bbq||{},I,p,A,J=b.event.special,z="querystring",u="fragment",G=/^.*\?|#.*$/g,D,C,H,K,F,L={};m[z]=h(k,0,function(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,
"$1")});m[u]=d=h(k,1,function(a){return a.replace(C,"$2")});m.sorted=s=function(a,c){var e=[],g={};b.each(m(a,c).split("&"),function(a,c){var b=c.replace(/(?:%5B|=).*$/,""),m=g[b];m||(m=g[b]=[],e.push(b));m.push(c)});return b.map(e.sort(),function(a){return g[a]}).join("&")};d.noEscape=function(a){a=b.map((a||"").split(""),encodeURIComponent);H=RegExp(a.join("|"),"g")};d.noEscape(",/");d.ajaxCrawlable=function(a){a!==l&&(a?(D=/^.*(?:#!|#)/,C=/^([^#]*)(?:#!|#)?(.*)$/,F="#!"):(D=/^.*#/,C=/^([^#]*)#?(.*)$/,
F="#"),K=!!a);return K};d.ajaxCrawlable(0);b.deparam=f=function(a,c){var e={},g={"true":!0,"false":!1,"null":null};b.each(a.replace(/\+/g," ").split("&"),function(a,m){var n=m.split("="),k=v(n[0]),p=e,f=0,d=k.split("]["),h=d.length-1;/\[/.test(d[0])&&/\]$/.test(d[h])?(d[h]=d[h].replace(/\]$/,""),d=d.shift().split("[").concat(d),h=d.length-1):h=0;if(2===n.length)if(n=v(n[1]),c&&(n=n&&!isNaN(n)?+n:"undefined"===n?l:g[n]!==l?g[n]:n),h)for(;f<=h;f++)k=""===d[f]?p.length:d[f],p=p[k]=f<h?p[k]||(d[f+1]&&
isNaN(d[f+1])?{}:[]):n;else b.isArray(e[k])?e[k].push(n):e[k]=e[k]!==l?[e[k],n]:n;else k&&(e[k]=c?l:"")});return e};f[z]=h(w,0);f[u]=x=h(w,1);b.elemUrlAttr||(b.elemUrlAttr=function(a){return b.extend(L,a)})({a:"href",base:"href",iframe:"src",img:"src",input:"src",form:"action",link:"href",script:"src"});A=b.elemUrlAttr;b.fn[z]=h(q,z);b.fn[u]=h(q,u);y.pushState=I=function(a,c){r(a)&&/^#/.test(a)&&c===l&&(c=2);var b=a!==l,b=d(location.href,b?a:{},b?c:2);location.href=b};y.getState=p=function(a,b){return a===
l||"boolean"===typeof a?x(a):x(b)[a]};y.removeState=function(a){var c={};a!==l&&(c=p(),b.each(b.isArray(a)?a:arguments,function(a,b){delete c[b]}));I(c,2)};J.hashchange=b.extend(J.hashchange,{add:function(a){function c(a){var b=a[u]=d();a.getState=function(a,c){return a===l||"boolean"===typeof a?f(b,a):f(b,c)[a]};e.apply(this,arguments)}var e;if(b.isFunction(a))return e=a,c;e=a.handler;a.handler=c}})})(jQuery,this);
(function(b,E,r){function h(b){b=b||location.href;return"#"+b.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var k="hashchange",w=document,q,l=b.event.special,B=w.documentMode,v="on"+k in E&&(B===r||7<B);b.fn[k]=function(b){return b?this.bind(k,b):this.trigger(k)};b.fn[k].delay=50;l[k]=b.extend(l[k],{setup:function(){if(v)return!1;b(q.start)},teardown:function(){if(v)return!1;b(q.stop)}});q=function(){function l(){var p=h(),A=q(f);p!==f?(y(f=p,A),b(E).trigger(k)):A!==f&&(location.href=location.href.replace(/#.*/,
"")+A);d=setTimeout(l,b.fn[k].delay)}var s={},d,f=h(),x=function(b){return b},y=x,q=x;s.start=function(){d||l()};s.stop=function(){d&&clearTimeout(d);d=r};null!==navigator.userAgent.match(/MSIE/i)&&!v&&function(){var d,f;s.start=function(){d||(f=(f=b.fn[k].src)&&f+h(),d=b('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){f||y(h());l()}).attr("src",f||"javascript:0").insertAfter("body")[0].contentWindow,w.onpropertychange=function(){try{"title"===event.propertyName&&(d.document.title=
w.title)}catch(b){}})};s.stop=x;q=function(){return h(d.location.href)};y=function(f,l){var h=d.document,m=b.fn[k].domain;f!==l&&(h.title=w.title,h.open(),m&&h.write('<script>document.domain="'+m+'"\x3c/script>'),h.close(),d.location.hash=f)}}();return s}()})(jQuery,this);